@import 'tailwindcss';

@custom-variant dark (&:where(.dark, .dark *));
@custom-variant what-if (&:where(.what-if, .what-if *));

@theme {
  --font-sans:
    ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
    'Noto Color Emoji';

  /* Light mode - clean neutral */
  --color-background: hsl(220 15% 98%);
  --color-foreground: hsl(220 10% 12%);
  --color-card: hsl(0 0% 100%);
  --color-card-foreground: hsl(220 10% 12%);
  --color-popover: hsl(0 0% 100%);
  --color-popover-foreground: hsl(220 10% 12%);
  --color-muted: hsl(220 10% 95%);
  --color-muted-foreground: hsl(220 5% 45%);
  --color-border: hsl(220 10% 88%);
  --color-input: hsl(220 10% 88%);
  --color-primary: hsl(220 10% 15%);
  --color-primary-foreground: hsl(220 15% 98%);
  --color-secondary: hsl(220 10% 95%);
  --color-secondary-foreground: hsl(220 10% 15%);
  --color-accent: hsl(220 10% 95%);
  --color-accent-foreground: hsl(220 10% 15%);
  --color-destructive: #ef4444;
  --color-destructive-foreground: #fafafa;
  --color-ring: hsl(220 10% 12%);

  --color-sidebar-background: hsl(220 10% 97%);
  --color-sidebar-foreground: hsl(220 10% 12%);
  --color-sidebar-border: hsl(220 10% 88%);
  --color-sidebar-accent: hsl(220 10% 93%);
  --color-sidebar-accent-foreground: hsl(220 10% 15%);

  /* Semantic tokens */
  --color-surface-raised: hsl(0 0% 100%);
  --color-border-subtle: hsl(220 8% 90%);
  --shadow-color: hsl(220 10% 50% / 0.08);

  /* Unified radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.625rem;
}

/* Dark mode overrides */
.dark {
  --color-background: hsl(220 15% 8%);
  --color-foreground: hsl(220 10% 95%);
  --color-card: hsl(220 12% 12%);
  --color-card-foreground: hsl(220 10% 95%);
  --color-popover: hsl(220 12% 12%);
  --color-popover-foreground: hsl(220 10% 95%);
  --color-muted: hsl(220 10% 18%);
  --color-muted-foreground: hsl(220 5% 55%);
  --color-border: hsl(220 10% 22%);
  --color-input: hsl(220 10% 22%);
  --color-primary: hsl(220 10% 95%);
  --color-primary-foreground: hsl(220 15% 12%);
  --color-secondary: hsl(220 10% 18%);
  --color-secondary-foreground: hsl(220 10% 95%);
  --color-accent: hsl(220 10% 18%);
  --color-accent-foreground: hsl(220 10% 95%);
  --color-destructive: #f87171;
  --color-destructive-foreground: #1a1a1a;
  --color-ring: hsl(220 10% 70%);

  --color-sidebar-background: hsl(220 15% 8%);
  --color-sidebar-foreground: hsl(220 10% 95%);
  --color-sidebar-border: hsl(220 10% 22%);
  --color-sidebar-accent: hsl(220 10% 18%);
  --color-sidebar-accent-foreground: hsl(220 10% 95%);

  /* Semantic tokens - dark */
  --color-surface-raised: hsl(220 12% 14%);
  --color-border-subtle: hsl(220 8% 25%);
  --shadow-color: hsl(0 0% 0% / 0.25);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans);
  }

  /* Global typography - works without classes */
  h1 {
    @apply text-2xl font-semibold tracking-tight;
  }

  h2 {
    @apply text-lg font-semibold tracking-tight;
  }

  h3 {
    @apply text-base font-medium;
  }

  h4 {
    @apply text-sm font-medium;
  }
}

@layer components {
  /* Page shell - standard max-width container */
  .page-shell {
    @apply mx-auto max-w-6xl;
  }

  /* Page header - title area with icon and description */
  .page-header {
    @apply mb-8;
  }

  /* Page title - the big heading with optional icon */
  .page-title {
    @apply flex items-center gap-3 text-3xl font-bold tracking-tight;
  }

  /* Page title icon wrapper */
  .page-title-icon {
    @apply flex h-10 w-10 items-center justify-center rounded-full;
  }

  /* Page description */
  .page-description {
    @apply mt-1 text-muted-foreground;
  }

  /* Section - semantic grouping within a page */
  .section {
    @apply grid gap-4 lg:grid-cols-3 lg:gap-8;
  }

  .section-header {
    @apply lg:col-span-1;
  }

  .section-content {
    @apply lg:col-span-2;
  }

  /* Panel - raised surface for grouped content */
  .panel {
    @apply rounded-lg border bg-surface-raised;
    box-shadow: 0 1px 3px var(--shadow-color);
  }

  /* Panel header - top area with title and optional actions */
  .panel-header {
    @apply flex items-center justify-between border-b p-4;
  }

  /* Panel body - content area */
  .panel-body {
    @apply p-4;
  }

  /* Toolbar - horizontal bar with actions */
  .toolbar {
    @apply flex flex-wrap items-center gap-2;
  }

  /* Empty state - placeholder when no content */
  .empty-state {
    @apply rounded-lg border border-dashed p-8 text-center;
  }

  .empty-state-text {
    @apply text-muted-foreground;
  }

  .empty-state-action {
    @apply mt-4;
  }
}
