@import 'tailwindcss';

@custom-variant dark (&:where(.dark, .dark *));
@custom-variant what-if (&:where(.what-if, .what-if *));

@theme {
  --font-sans:
    'DM Sans Variable', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
    'Segoe UI Symbol', 'Noto Color Emoji';

  /* Light mode - warm neutrals + teal primary */
  --color-background: hsl(40 25% 97.5%);
  --color-foreground: hsl(30 10% 12%);
  --color-card: hsl(0 0% 100%);
  --color-card-foreground: hsl(30 10% 12%);
  --color-popover: hsl(0 0% 100%);
  --color-popover-foreground: hsl(30 10% 12%);
  --color-muted: hsl(40 15% 94%);
  --color-muted-foreground: hsl(30 5% 42%);
  --color-border: hsl(40 12% 90%);
  --color-input: hsl(40 12% 90%);
  --color-primary: hsl(168 55% 34%);
  --color-primary-foreground: hsl(0 0% 100%);
  --color-secondary: hsl(40 15% 94%);
  --color-secondary-foreground: hsl(30 10% 15%);
  --color-accent: hsl(40 15% 94%);
  --color-accent-foreground: hsl(30 10% 15%);
  --color-destructive: #ef4444;
  --color-destructive-foreground: #fafafa;
  --color-ring: hsl(168 55% 34%);

  --color-sidebar-background: hsl(40 15% 96%);
  --color-sidebar-foreground: hsl(30 10% 12%);
  --color-sidebar-border: hsl(40 12% 90%);
  --color-sidebar-accent: hsl(40 15% 94%);
  --color-sidebar-accent-foreground: hsl(30 10% 15%);

  /* Semantic tokens */
  --color-surface-raised: hsl(0 0% 100%);
  --color-border-subtle: hsl(40 8% 92%);
  --shadow-color: hsl(30 10% 50% / 0.10);

  /* Unified radius */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.625rem;
}

/* Dark mode overrides */
.dark {
  --color-background: hsl(30 10% 7%);
  --color-foreground: hsl(40 10% 94%);
  --color-card: hsl(30 8% 11%);
  --color-card-foreground: hsl(40 10% 94%);
  --color-popover: hsl(30 8% 11%);
  --color-popover-foreground: hsl(40 10% 94%);
  --color-muted: hsl(30 8% 17%);
  --color-muted-foreground: hsl(30 5% 55%);
  --color-border: hsl(30 8% 19%);
  --color-input: hsl(30 8% 19%);
  --color-primary: hsl(168 50% 50%);
  --color-primary-foreground: hsl(30 10% 7%);
  --color-secondary: hsl(30 8% 17%);
  --color-secondary-foreground: hsl(40 10% 94%);
  --color-accent: hsl(30 8% 17%);
  --color-accent-foreground: hsl(40 10% 94%);
  --color-destructive: #f87171;
  --color-destructive-foreground: #1a1a1a;
  --color-ring: hsl(168 50% 50%);

  --color-sidebar-background: hsl(30 10% 7%);
  --color-sidebar-foreground: hsl(40 10% 94%);
  --color-sidebar-border: hsl(30 8% 19%);
  --color-sidebar-accent: hsl(30 8% 17%);
  --color-sidebar-accent-foreground: hsl(40 10% 94%);

  /* Semantic tokens - dark */
  --color-surface-raised: hsl(30 8% 14%);
  --color-border-subtle: hsl(30 8% 25%);
  --shadow-color: hsl(0 0% 0% / 0.30);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans);
  }

  /* Global typography - works without classes */
  h1 {
    @apply text-2xl font-semibold tracking-tight;
  }

  h2 {
    @apply text-lg font-semibold tracking-tight;
  }

  h3 {
    @apply text-base font-medium;
  }

  h4 {
    @apply text-sm font-medium;
  }
}

@layer components {
  /* Page shell - standard max-width container */
  .page-shell {
    @apply mx-auto max-w-6xl;
  }

  /* Page header - title area with icon and description */
  .page-header {
    @apply mb-2;
  }

  /* Page title - the big heading with optional icon */
  .page-title {
    @apply flex items-center gap-3 text-3xl font-bold tracking-tight;
  }

  /* Page title icon wrapper */
  .page-title-icon {
    @apply flex h-10 w-10 items-center justify-center rounded-full;
  }

  /* Page description */
  .page-description {
    @apply mt-1 text-muted-foreground;
  }

  /* Section - semantic grouping within a page */
  .section {
    @apply grid gap-4 lg:grid-cols-3 lg:gap-8;
  }

  .section-header {
    @apply lg:col-span-1;
  }

  .section-content {
    @apply lg:col-span-2;
  }

  /* Panel - raised surface for grouped content */
  .panel {
    @apply rounded-lg border bg-surface-raised;
    box-shadow: 0 2px 8px var(--shadow-color);
  }

  /* Panel header - top area with title and optional actions */
  .panel-header {
    @apply flex items-center justify-between border-b p-4;
  }

  /* Panel body - content area */
  .panel-body {
    @apply p-4;
  }

  /* Toolbar - horizontal bar with actions */
  .toolbar {
    @apply flex flex-wrap items-center gap-2;
  }

  /* Empty state - placeholder when no content */
  .empty-state {
    @apply rounded-lg border border-dashed p-8 text-center;
  }

  .empty-state-text {
    @apply text-muted-foreground;
  }

  .empty-state-action {
    @apply mt-4;
  }

  /* Card elevation - subtle depth for bordered cards */
  .bg-card:where([class*="rounded"]) {
    box-shadow: 0 1px 4px var(--shadow-color);
  }
}
